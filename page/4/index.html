<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>jdhao's digital space</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="jdhao"><meta name=description content="A blog for the patient and curious people"><meta name=keywords content="Hugo,theme,even"><meta name=google-site-verification content="HTz0VHxqny_b0FfS774dICLBzHGBZCb_S11j_akF1Tw"><meta name=generator content="Hugo 0.105.0 with theme even"><link rel=canonical href=https://jdhao.github.io/><link href=https://jdhao.github.io/index.xml rel=alternate type=application/rss+xml title="jdhao's digital space"><link href=https://jdhao.github.io/index.xml rel=feed type=application/rss+xml title="jdhao's digital space"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-6058871559165202",enable_page_level_ads:!0})</script><link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="jdhao's digital space"><meta property="og:description" content="A blog for the patient and curious people"><meta property="og:type" content="website"><meta property="og:url" content="https://jdhao.github.io/"><meta itemprop=name content="jdhao's digital space"><meta itemprop=description content="A blog for the patient and curious people"><meta name=twitter:card content="summary"><meta name=twitter:title content="jdhao's digital space"><meta name=twitter:description content="A blog for the patient and curious people"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>jdhao's digital space</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/about/><li class=mobile-menu-item>About</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>jdhao's digital space</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/about/>About</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><section id=posts class=posts><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/04/28/sqrt_without_using_builtin_sqrt/>How to Calculate Square Root without Using sqrt()?</a></h1><div class=post-meta><span class=post-time>2022-04-28</span><div class=post-category><a href=/categories/Programming/>Programming</a></div><span class=more-meta>748 words</span>
<span class=more-meta>4 mins read</span></div></header><div class=post-content><div class=post-summary><p>I saw an interesting question that how to get square root of x
without using builtin function from your language. There are different
ways to approach this problem.</p></div><div class=read-more><a href=/2022/04/28/sqrt_without_using_builtin_sqrt/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/04/27/nvim_non_greedy_match/>How to Match Non-greedily in Nvim/Vim</a></h1><div class=post-meta><span class=post-time>2022-04-27</span><div class=post-category><a href=/categories/Nvim/>Nvim</a></div><span class=more-meta>120 words</span>
<span class=more-meta>1 min read</span></div></header><div class=post-content><div class=post-summary><p>A short note on how to match <a href=https://blog.finxter.com/python-regex-greedy-vs-non-greedy-quantifiers/>non-greedily</a> in Nvim/Vim.</p></div><div class=read-more><a href=/2022/04/27/nvim_non_greedy_match/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/04/23/github_access_token/>Push to GitHub with Personal Access Token (PAT)</a></h1><div class=post-meta><span class=post-time>2022-04-23</span><div class=post-category><a href=/categories/Git/>Git</a></div><span class=more-meta>201 words</span>
<span class=more-meta>1 min read</span></div></header><div class=post-content><div class=post-summary><p>To promote security, starting from Aug. 2021, many GitHub operations require use of personal access tokens (PAT).</p></div><div class=read-more><a href=/2022/04/23/github_access_token/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/04/20/pytorch-tensorboard-use/>How to Use Tensorboard in Pytorch</a></h1><div class=post-meta><span class=post-time>2022-04-20</span><div class=post-category><a href=/categories/Note/>Note</a></div><span class=more-meta>338 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p>This is a brief note on how to use <a href=https://github.com/tensorflow/tensorboard>Tensorboard</a> in PyTorch.</p></div><div class=read-more><a href=/2022/04/20/pytorch-tensorboard-use/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/04/03/add_color_emoji_to_image_in_python/>How to Add Color Emoji to Image in Python</a></h1><div class=post-meta><span class=post-time>2022-04-03</span><div class=post-category><a href=/categories/Python/>Python</a></div><span class=more-meta>667 words</span>
<span class=more-meta>4 mins read</span></div></header><div class=post-content><div class=post-summary><p align=center><img src=https://blog-resource-1257868508.file.myqcloud.com/202204031210116.png width=500></p><p>In this post, I would like to share how to add <a href=https://en.wikipedia.org/wiki/Emoji>color emoji</a> to image with Python.</p></div><div class=read-more><a href=/2022/04/03/add_color_emoji_to_image_in_python/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/04/01/image_alpha_composite_pillow/>How to Do Image Alpha-compositing in Pillow</a></h1><div class=post-meta><span class=post-time>2022-04-01</span><div class=post-category><a href=/categories/Python/>Python</a></div><span class=more-meta>550 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary><p align=center><img src=https://blog-resource-1257868508.file.myqcloud.com/202204020034075.jpg width=800></p><h1 id=what-is-alpha-compositing>What is alpha-compositing</h1><p>If you have two images A and B, you <a href=https://en.wikipedia.org/wiki/Alpha_compositing>alpha-composite</a>
A over B, it will create an effect that you can see both image A and B
in the resulting image, as if A has transparency and you can
<em>see</em> through A and also see B.</p></div><div class=read-more><a href=/2022/04/01/image_alpha_composite_pillow/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/03/28/how_to_make_zhajiang2/>地道美味炸酱制作方法</a></h1><div class=post-meta><span class=post-time>2022-03-28</span><div class=post-category><a href=/categories/life/>life</a></div><span class=more-meta>480 words</span>
<span class=more-meta>1 min read</span></div></header><div class=post-content><div class=post-summary><p align=center><img src=https://blog-resource-1257868508.file.myqcloud.com/202203280008836.jpg width=200></p><p>今天介绍另外一种风格的炸酱制作，区别于之前写过的 <a href=https://jdhao.github.io/2021/09/05/how_to_make_zhajiang_noodles/>老北京炸酱</a>.</p></div><div class=read-more><a href=/2022/03/28/how_to_make_zhajiang2/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/03/27/neural-network-nonlinear-activation/>Nonlinear Activations for Neural Networks</a></h1><div class=post-meta><span class=post-time>2022-03-27</span><div class=post-category><a href=/categories/machine-learning/>machine-learning</a></div><span class=more-meta>586 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary><p align=center><img src=https://blog-resource-1257868508.file.myqcloud.com/202203271740705.png width=600></p><p>Non-linear activations are important in deep neural networks. It is
important in the sense that without non-linear activation functions,
even if you have many linear layers, the end results is like you have
only one linear layer, and the approximation ability of the network is
very limited<a href=#fn1 class=footnote-ref id=fnref1 role=doc-noteref><sup>1</sup></a>. Some of most commonly-used
nonlinear activation functions are Sigmoid, ReLU and Tanh.</p></div><div class=read-more><a href=/2022/03/27/neural-network-nonlinear-activation/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/03/18/torch_accelerate_batch_inference/>Accelerate Batched Image Inference in PyTorch</a></h1><div class=post-meta><span class=post-time>2022-03-18</span><div class=post-category><a href=/categories/machine-learning/>machine-learning</a></div><span class=more-meta>511 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary><p>I have a web service where the images come in a batch so I have to do inference for several images in PIL format at a time.
Initially, I use a naive approach and just transform the images one by one,
then combine them to form a single tensor and do the inference.
The inference becomes really slow when I have a batch with more than 30 images.
The inference time is about 1-2 seconds per batch.</p></div><div class=read-more><a href=/2022/03/18/torch_accelerate_batch_inference/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/03/14/latex_define_string_variable/>Define A String Variable in LaTeX</a></h1><div class=post-meta><span class=post-time>2022-03-14</span><div class=post-category><a href=/categories/LaTeX/>LaTeX</a></div><span class=more-meta>220 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p>Like other programming languages, the best way to to use a value multiple times in LaTeX is to define a variable for it.
Later when you want to change the value, you only need to change it once. Here is how to do it.</p></div><div class=read-more><a href=/2022/03/14/latex_define_string_variable/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/03/07/git_merge_branch_with_rebase/>Merging Branches with Git Rebase</a></h1><div class=post-meta><span class=post-time>2022-03-07</span><div class=post-category><a href=/categories/Git/>Git</a></div><span class=more-meta>218 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p align=center><img src=https://blog-resource-1257868508.file.myqcloud.com/202202021114754.jpg width=800></p><p>When merging branches, the most direct way we can use is to <code>git merge</code>.
However, with git-merge, the commit history and graph will be messy if there are a lot of branches.</p></div><div class=read-more><a href=/2022/03/07/git_merge_branch_with_rebase/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/02/27/temperature_in_softmax/>Softmax with Temperature Explained</a></h1><div class=post-meta><span class=post-time>2022-02-27</span><div class=post-category><a href=/categories/machine-learning/>machine-learning</a></div><span class=more-meta>633 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary><p align=center><img src=https://blog-resource-1257868508.file.myqcloud.com/202202271549378.jpg width=800></p><p>Softmax function is commonly used in classification tasks. Suppose
that we have an input vector <span class="math inline">\([z_1, z_2,
\ldots, z_N]\)</span>, after softmax, each element becomes:</p></div><div class=read-more><a href=/2022/02/27/temperature_in_softmax/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/02/27/nvim_file_tree_explorer/>A Curated List of File Explorers for Nvim</a></h1><div class=post-meta><span class=post-time>2022-02-27</span><div class=post-category><a href=/categories/Nvim/>Nvim</a></div><span class=more-meta>282 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p>File explorer is one of the most widely-used types of plugin for Vim/Nvim.
Below are my curated list of file explorers for Nvim.
Some of these plugins are specifically written for Nvim and will not work for Vim.</p></div><div class=read-more><a href=/2022/02/27/nvim_file_tree_explorer/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/02/21/on_asking_tech_questions/>关于正确提问技术问题</a></h1><div class=post-meta><span class=post-time>2022-02-21</span><div class=post-category><a href=/categories/thought/>thought</a></div><span class=more-meta>833 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p>有个人 A 在 <a href=https://t.me/vimzh_real>Vim tg 群</a>，问了一个简单的 vim 问题，另外一位群友 B 给了间接的回答，告诉他应该多搜索一下。结果引发了大讨论，有人认为直接回答就好，没必要指教别人，没必要那么傲慢，居高临下，就炸锅了，引发了大讨论，还导致几个人退群。</p></div><div class=read-more><a href=/2022/02/21/on_asking_tech_questions/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/02/11/pyav_install_docker/>Install pyav inside Ubuntu Docker</a></h1><div class=post-meta><span class=post-time>2022-02-11</span><div class=post-category><a href=/categories/Note/>Note</a></div><span class=more-meta>487 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary><p>Building a usable Docker image with all the packages living peacefully is hard.
Here is how to install <a href=https://github.com/PyAV-Org/PyAV>pyav</a> using Docker.</p></div><div class=read-more><a href=/2022/02/11/pyav_install_docker/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/02/09/dependency-hell-build-torch-GPU-docker-container/>Dependency Hell When Building A PyTorch GPU Docker Image</a></h1><div class=post-meta><span class=post-time>2022-02-09</span><div class=post-category><a href=/categories/machine-learning/>machine-learning</a></div><span class=more-meta>257 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p>In order to for PyTorch to use host GPU inside a Docker container, their versions must match.</p></div><div class=read-more><a href=/2022/02/09/dependency-hell-build-torch-GPU-docker-container/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/02/02/executable_not_allowed_to_run_in_hugo/>External Executable Not Allowed to Run after Hugo v0.91?</a></h1><div class=post-meta><span class=post-time>2022-02-02</span><div class=post-category><a href=/categories/Blog/>Blog</a></div><span class=more-meta>222 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p>Today I upgrade <a href=https://github.com/gohugoio/hugo>Hugo</a> from v0.75 to the latest version (v0.92).
When I run the deployment script to build the site and push, I saw the following error:</p></div><div class=read-more><a href=/2022/02/02/executable_not_allowed_to_run_in_hugo/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/02/01/make_sauce_for_cold_dish/>凉菜调味汁制作方法</a></h1><div class=post-meta><span class=post-time>2022-02-01</span><div class=post-category><a href=/categories/life/>life</a></div><span class=more-meta>212 words</span>
<span class=more-meta>1 min read</span></div></header><div class=post-content><div class=post-summary><p>凉菜万能调料汁制作方法。</p></div><div class=read-more><a href=/2022/02/01/make_sauce_for_cold_dish/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/02/01/stir-fried-shrimp-with-garlic/>菜谱：蒜蓉炒虾</a></h1><div class=post-meta><span class=post-time>2022-02-01</span><div class=post-category><a href=/categories/life/>life</a></div><span class=more-meta>296 words</span>
<span class=more-meta>1 min read</span></div></header><div class=post-content><div class=post-summary><p align=center><img src=https://blog-resource-1257868508.file.myqcloud.com/202202012330649.jpg width=400></p><p>家常版蒜蓉炒虾🦐制作方法。</p></div><div class=read-more><a href=/2022/02/01/stir-fried-shrimp-with-garlic/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2022/01/28/pytorch_model_load_error/>A Dig into PyTorch Model Loading</a></h1><div class=post-meta><span class=post-time>2022-01-28</span><div class=post-category><a href=/categories/machine-learning/>machine-learning</a></div><span class=more-meta>280 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><h1 id=saving-and-loading-pytorch-models>Saving and loading PyTorch models</h1><p>Models in PyTorch are a subclass of <code>torch.nn.Module</code>. To save the model parameters,
we use <code>model.state_dict()</code> to get all the model parameters:</p></div><div class=read-more><a href=/2022/01/28/pytorch_model_load_error/ class=read-more-link>Read more...</a></div></div></article></section><nav class=pagination><a class=prev href=/page/3/><i class="iconfont icon-left"></i>
<span class=prev-text>Prev</span></a>
<a class=next href=/page/5/><span class=next-text>Next</span>
<i class="iconfont icon-right"></i></a></nav></div></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:jdhao@hotmail.com class="iconfont icon-email" title=email></a>
<a href="https://stackoverflow.com/users/6064933/jdhao?tab=profile" class="iconfont icon-stack-overflow" title=stack-overflow></a>
<a href=https://github.com/jdhao class="iconfont icon-github" title=github></a>
<a href=https://jdhao.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span><div class=busuanzi-footer><span id=busuanzi_container_site_pv>site pv: <span id=busuanzi_value_site_pv><img src=/img/spinner.svg alt=spinner.svg></span></span>
<span class=division>|</span>
<span id=busuanzi_container_site_uv>site uv: <span id=busuanzi_value_site_uv><img src=/img/spinner.svg alt=spinner.svg></span></span></div><span class=copyright-year>&copy;
2017 -
2023<span class=heart><i class="iconfont icon-heart"></i></span><span>jdhao</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js></script>
<script type=text/javascript>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],tags:"ams"}}</script><script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-113395108-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<script id=baidu_push>(function(){if(window.location.hostname==="localhost")return;var t,n,e=document.createElement("script");e.async=!0,n=window.location.protocol.split(":")[0],n==="https"?e.src="https://zz.bdstatic.com/linksubmit/push.js":e.src="http://push.zhanzhang.baidu.com/push.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script></body></html>