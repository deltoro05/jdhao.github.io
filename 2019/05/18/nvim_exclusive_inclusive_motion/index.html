<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Exclusive and Inclusive Motion in Neovim/Vim - jdhao's digital space</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="jdhao"><meta name=description content="Introduction Suppose that we have the following text in normal mode (cursor is indicated by ^):
hello world ^ If we use dw, we delete hello&amp;lt;Space&amp;gt;1 and only world is left; if we use de, hello is deleted and &amp;lt;Space&amp;gt;world is left. Have you ever wondered about why dw do not delete w while de will delete the o in hello? It seems that motion e and w are somewhat inconsistent in their behaviours. It turns out that it has something to do with the exclusivity of motions in Vim.
"><meta name=keywords content="Hugo,theme,even"><meta name=google-site-verification content="HTz0VHxqny_b0FfS774dICLBzHGBZCb_S11j_akF1Tw"><meta name=generator content="Hugo 0.105.0 with theme even"><link rel=canonical href=https://jdhao.github.io/2019/05/18/nvim_exclusive_inclusive_motion/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-6058871559165202",enable_page_level_ads:!0})</script><link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="Exclusive and Inclusive Motion in Neovim/Vim"><meta property="og:description" content="Introduction
Suppose that we have the following text in normal mode (cursor is indicated by
^):
hello world
^
If we use dw, we delete hello<Space>1 and only world is left; if we
use de, hello is deleted and <Space>world is left. Have you ever wondered
about why dw do not delete w while de will delete the o in hello? It
seems that motion e and w are somewhat inconsistent in their behaviours. It
turns out that it has something to do with the exclusivity of motions in Vim."><meta property="og:type" content="article"><meta property="og:url" content="https://jdhao.github.io/2019/05/18/nvim_exclusive_inclusive_motion/"><meta property="article:section" content="post"><meta property="article:published_time" content="2019-05-18T01:18:28+08:00"><meta property="article:modified_time" content="2020-09-19T19:28:31+02:00"><meta itemprop=name content="Exclusive and Inclusive Motion in Neovim/Vim"><meta itemprop=description content="Introduction
Suppose that we have the following text in normal mode (cursor is indicated by
^):
hello world
^
If we use dw, we delete hello<Space>1 and only world is left; if we
use de, hello is deleted and <Space>world is left. Have you ever wondered
about why dw do not delete w while de will delete the o in hello? It
seems that motion e and w are somewhat inconsistent in their behaviours. It
turns out that it has something to do with the exclusivity of motions in Vim."><meta itemprop=datePublished content="2019-05-18T01:18:28+08:00"><meta itemprop=dateModified content="2020-09-19T19:28:31+02:00"><meta itemprop=wordCount content="422"><meta itemprop=keywords content="Vim,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Exclusive and Inclusive Motion in Neovim/Vim"><meta name=twitter:description content="Introduction
Suppose that we have the following text in normal mode (cursor is indicated by
^):
hello world
^
If we use dw, we delete hello<Space>1 and only world is left; if we
use de, hello is deleted and <Space>world is left. Have you ever wondered
about why dw do not delete w while de will delete the o in hello? It
seems that motion e and w are somewhat inconsistent in their behaviours. It
turns out that it has something to do with the exclusivity of motions in Vim."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>jdhao's digital space</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/about/><li class=mobile-menu-item>About</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>jdhao's digital space</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/about/>About</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>Exclusive and Inclusive Motion in Neovim/Vim</h1><div class=post-meta><span class=post-time>2019-05-18</span><div class=post-category><a href=/categories/Nvim/>Nvim</a></div><span class=more-meta>422 words</span>
<span class=more-meta>2 mins read</span>
<span id=busuanzi_container_page_pv class=more-meta><span id=busuanzi_value_page_pv><img src=/img/spinner.svg alt=spinner.svg></span> times read</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#exclusive-and-inclusive-motion-explained>Exclusive and inclusive motion explained</a></li><li><a href=#change-the-exclusivity-of-a-motion>Change the exclusivity of a motion</a></li><li><a href=#references>References</a></li></ul></nav></div></div><div class=post-content><h1 id=introduction>Introduction</h1><p>Suppose that we have the following text in normal mode (cursor is indicated by
<code>^</code>):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>hello world
</span></span><span class=line><span class=cl>^
</span></span></code></pre></div><p>If we use <code>dw</code>, we delete <code>hello&lt;Space></code><sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> and only <code>world</code> is left; if we
use <code>de</code>, <code>hello</code> is deleted and <code>&lt;Space>world</code> is left. Have you ever wondered
about why <code>dw</code> do not delete <code>w</code> while <code>de</code> will delete the <code>o</code> in <code>hello</code>? It
seems that motion <code>e</code> and <code>w</code> are somewhat inconsistent in their behaviours. It
turns out that it has something to do with the exclusivity of motions in Vim.</p><h1 id=exclusive-and-inclusive-motion-explained>Exclusive and inclusive motion explained</h1><p>Most Vim motions are either exclusive or inclusive. This nature of a motion is
best revealed when you perform an operation (these operations include, but are
not limited to <code>c</code>, <code>d</code>, <code>y</code>) followed by these motions. <code>Inclusive</code> means that
the texts between the start and end position of the cursor is used for that
operation, while <code>exclusive</code> means that the <strong>last character near the end of
current buffer</strong><sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> is not included in the operation.</p><p>If you had known the above difference between the exclusive and inclusive
motion, you would not be surprised about the so called <em>inconsistency</em> between
<code>dw</code> and <code>de</code>. The reason is that <code>w</code> is an exclusive motion and <code>e</code> is an
inclusive motion. Someone has asked on the Stack Exchange site on <a href=https://superuser.com/questions/771897/vim-delete-motions-include-under-the-cursor>why backward
delete such <code>db</code> can not delete the character in the cursor
position</a>.
That is also because <code>b</code> is an exclusive motion so that the last character
toward the end of the buffer is not included.</p><h1 id=change-the-exclusivity-of-a-motion>Change the exclusivity of a motion</h1><p>To force an exclusive <strong>motion</strong> to be inclusive or vice versa, you can prepend
the <strong>motion</strong> by <code>v</code> (from Vim doc):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>v       When used after an operator, before the motion command: Force
</span></span><span class=line><span class=cl>        the operator to work characterwise, also when the motion is
</span></span><span class=line><span class=cl>        linewise.  If the motion was linewise, it will become
</span></span><span class=line><span class=cl>        |exclusive|.
</span></span><span class=line><span class=cl>        If the motion already was characterwise, toggle
</span></span><span class=line><span class=cl>        inclusive/exclusive.  This can be used to make an exclusive
</span></span><span class=line><span class=cl>        motion inclusive and an inclusive motion exclusive.
</span></span></code></pre></div><p>Take the case in the first paragraph for an example, <code>dvw</code> will delete
<code>hello&lt;Space>w</code> (<code>w</code> becomes inclusive) and <code>dve</code> will delete only <code>hell</code> (<code>e</code>
becomes exclusive). To find more detailed doc on this behaviour, read <code>:h exclusive</code> carefully.</p><h1 id=references>References</h1><ul><li><a href=https://stackoverflow.com/questions/21686886/making-backwards-motions-always-inclusive>https://stackoverflow.com/questions/21686886/making-backwards-motions-always-inclusive</a></li><li><a href=https://stackoverflow.com/questions/16815627/in-vim-why-is-the-behavior-of-w-word-selector-inconsistent-when-preceded-by-d>https://stackoverflow.com/questions/16815627/in-vim-why-is-the-behavior-of-w-word-selector-inconsistent-when-preceded-by-d</a></li><li><a href=https://stackoverflow.com/questions/23041326/why-dmotion-command-is-not-consistent-with-motion-command-in-vim/56179473#56179473>https://stackoverflow.com/questions/23041326/why-dmotion-command-is-not-consistent-with-motion-command-in-vim/56179473#56179473</a></li></ul><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><code>&lt;Space></code> indicates a space character.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>You need to interpret this carefully. When you do forward motions, the last character is where the motion lands. If you do backward motions, the last character in this context means the character your motion starts at.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>jdhao</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>2020-09-19</span></p><p class=copyright-item><span class=item-title>License</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span></p></div><footer class=post-footer><div class=post-tags><a href=/tags/Vim/>Vim</a></div><nav class=post-nav><a class=prev href=/2019/05/30/markdown2pdf_pandoc/><i class="iconfont icon-left"></i>
<span class="prev-text nav-default">Converting Markdown to Beautiful PDF with Pandoc</span>
<span class="prev-text nav-mobile">Prev</span></a>
<a class=next href=/2019/05/14/nifty_nvim_techniques_s3/><span class="next-text nav-default">Nifty Nvim Techniques Which Make My Life Easier -- Series 3</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div><script src=https://utteranc.es/client.js repo=jdhao/jdhao.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script><noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:jdhao@hotmail.com class="iconfont icon-email" title=email></a>
<a href="https://stackoverflow.com/users/6064933/jdhao?tab=profile" class="iconfont icon-stack-overflow" title=stack-overflow></a>
<a href=https://github.com/jdhao class="iconfont icon-github" title=github></a>
<a href=https://jdhao.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span><div class=busuanzi-footer><span id=busuanzi_container_site_pv>site pv: <span id=busuanzi_value_site_pv><img src=/img/spinner.svg alt=spinner.svg></span></span>
<span class=division>|</span>
<span id=busuanzi_container_site_uv>site uv: <span id=busuanzi_value_site_uv><img src=/img/spinner.svg alt=spinner.svg></span></span></div><span class=copyright-year>&copy;
2017 -
2023<span class=heart><i class="iconfont icon-heart"></i></span><span>jdhao</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js></script>
<script type=text/javascript>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],tags:"ams"}}</script><script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-113395108-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<script id=baidu_push>(function(){if(window.location.hostname==="localhost")return;var t,n,e=document.createElement("script");e.async=!0,n=window.location.protocol.split(":")[0],n==="https"?e.src="https://zz.bdstatic.com/linksubmit/push.js":e.src="http://push.zhanzhang.baidu.com/push.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script></body></html>